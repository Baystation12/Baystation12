<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/ai_holder - Space Station 13</title></head><body><header><a href="index.html">Space Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/ai_holder.html#var">Var Details</a> - <a href="datum/ai_holder.html#proc">Proc Details</a></header><main><h1>ai_holder <aside>/<a href="datum.html">datum</a>/<a href="datum/ai_holder.html">ai_holder</a></aside> <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder.dm#L61"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder.dm 61"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/ai_holder.html#var/autopilot">autopilot</a></th><td>If true, the AI won't be deactivated if a client gets attached to the AI's mob.</td></tr><tr><th><a href="datum/ai_holder.html#var/busy">busy</a></th><td>If true, the ticker will skip processing this mob until this is false. Good for if you need the
mob to stay still (e.g. delayed attacking). If you need the mob to be inactive for an extended period of time,
consider sleeping the AI instead.</td></tr><tr><th><a href="datum/ai_holder.html#var/call_distance">call_distance</a></th><td>How far away calls for help will go for.</td></tr><tr><th><a href="datum/ai_holder.html#var/cooperative">cooperative</a></th><td>If true, asks allies to help when fighting something.</td></tr><tr><th><a href="datum/ai_holder.html#var/faction_friends">faction_friends</a></th><td>List of all mobs inside the faction with ai_holders that have cooperate on, to call for help without using range(). Note that this is only used for sending calls out. Receiving calls doesn't care about this list, only if the mob is in the faction.</td></tr><tr><th><a href="datum/ai_holder.html#var/holder">holder</a></th><td>The mob this datum is going to control.</td></tr><tr><th><a href="datum/ai_holder.html#var/holder_required_type">holder_required_type</a></th><td>The required mob type of the holder.</td></tr><tr><th><a href="datum/ai_holder.html#var/intelligence_level">intelligence_level</a></th><td>Adjust to make the AI be intentionally dumber, or make it more robust (e.g. dodging grenades).</td></tr><tr><th><a href="datum/ai_holder.html#var/next_received_help_request">next_received_help_request</a></th><td>time when the mob can receive a help request from another mob</td></tr><tr><th><a href="datum/ai_holder.html#var/next_sent_help_request">next_sent_help_request</a></th><td>time when this mob is allowed to call for help</td></tr><tr><th><a href="datum/ai_holder.html#var/process_flags">process_flags</a></th><td>Where we're processing, see flag defines.</td></tr><tr><th><a href="datum/ai_holder.html#var/snapshot">snapshot</a></th><td>A list used in mass-editing of AI datums, holding a snapshot of the 'before' state</td></tr><tr><th><a href="datum/ai_holder.html#var/stance">stance</a></th><td>Determines if the mob should be doing a specific thing, e.g. attacking, following, standing around, etc.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/ai_holder.html#proc/add_attacker">add_attacker</a></th><td>We were attacked by this thing recently</td></tr><tr><th><a href="datum/ai_holder.html#proc/can_see_target">can_see_target</a></th><td>Check if target is visible to us.</td></tr><tr><th><a href="datum/ai_holder.html#proc/check_attacker">check_attacker</a></th><td>Checks to see if an atom attacked us lately</td></tr><tr><th><a href="datum/ai_holder.html#proc/find_target">find_target</a></th><td>Step 2, filter down possible targets to things we actually care about.</td></tr><tr><th><a href="datum/ai_holder.html#proc/forget_everything">forget_everything</a></th><td>Resets a lot of 'memory' vars.</td></tr><tr><th><a href="datum/ai_holder.html#proc/get_path">get_path</a></th><td>A* now, try to a path to a target</td></tr><tr><th><a href="datum/ai_holder.html#proc/give_target">give_target</a></th><td>Step 4, give us our selected target.</td></tr><tr><th><a href="datum/ai_holder.html#proc/go_sleep">go_sleep</a></th><td>Makes this ai holder not get processed.
Called automatically when the host mob is killed.
Potential future optimization would be to sleep AIs which mobs that are far away from in-round players.</td></tr><tr><th><a href="datum/ai_holder.html#proc/go_wake">go_wake</a></th><td>Reverses the <code>go_sleep()</code> proc.
Revived mobs will wake their AI if they have one.</td></tr><tr><th><a href="datum/ai_holder.html#proc/handle_special_strategical">handle_special_strategical</a></th><td>Override this for special things without polluting the main <code>handle_strategicals()</code> loop.</td></tr><tr><th><a href="datum/ai_holder.html#proc/handle_special_tactic">handle_special_tactic</a></th><td>Override this for special things without polluting the main <code>handle_tactics()</code> loop.</td></tr><tr><th><a href="datum/ai_holder.html#proc/handle_stance_strategical">handle_stance_strategical</a></th><td>This is called every two seconds.</td></tr><tr><th><a href="datum/ai_holder.html#proc/handle_stance_tactical">handle_stance_tactical</a></th><td>This is called every half a second.</td></tr><tr><th><a href="datum/ai_holder.html#proc/handle_strategicals">handle_strategicals</a></th><td>'Strategical' processes that are more expensive on the CPU and so don't get run as often as the above proc, such as A* pathfinding or robust targeting.</td></tr><tr><th><a href="datum/ai_holder.html#proc/handle_tactics">handle_tactics</a></th><td>'Tactical' processes such as moving a step, meleeing an enemy, firing a projectile, and other fairly cheap actions that need to happen quickly.</td></tr><tr><th><a href="datum/ai_holder.html#proc/handle_wander_movement">handle_wander_movement</a></th><td>Wanders randomly in cardinal directions.</td></tr><tr><th><a href="datum/ai_holder.html#proc/help_requested">help_requested</a></th><td>What allies receive when someone else is calling for help.</td></tr><tr><th><a href="datum/ai_holder.html#proc/list_targets">list_targets</a></th><td>Step 1, find out what we can see.</td></tr><tr><th><a href="datum/ai_holder.html#proc/lose_target">lose_target</a></th><td>'Soft' loss of target. They may still exist, we still have some info about them maybe.</td></tr><tr><th><a href="datum/ai_holder.html#proc/lose_target_position">lose_target_position</a></th><td>Resets the last known position to null.</td></tr><tr><th><a href="datum/ai_holder.html#proc/move_once">move_once</a></th><td>Take one step along a path</td></tr><tr><th><a href="datum/ai_holder.html#proc/on_attacked">on_attacked</a></th><td>Sets a few vars so mobs that threaten will react faster to an attacker or someone who attacked them before.</td></tr><tr><th><a href="datum/ai_holder.html#proc/pick_target">pick_target</a></th><td>Step 3, pick among the possible, attackable targets.</td></tr><tr><th><a href="datum/ai_holder.html#proc/react_to_attack">react_to_attack</a></th><td>Responds to a hostile action against its mob.</td></tr><tr><th><a href="datum/ai_holder.html#proc/receive_taunt">receive_taunt</a></th><td>Causes targeting to prefer targeting the taunter if possible.
This generally occurs if more than one option is within striking distance, including the taunter.
Otherwise the default filter will prefer the closest target.</td></tr><tr><th><a href="datum/ai_holder.html#proc/remove_attacker">remove_attacker</a></th><td>Forgive this attacker</td></tr><tr><th><a href="datum/ai_holder.html#proc/remove_target">remove_target</a></th><td>'Hard' loss of target. Clean things up and return to idle.</td></tr><tr><th><a href="datum/ai_holder.html#proc/request_help">request_help</a></th><td>Requests help in combat from other mobs possessing ai_holders.</td></tr><tr><th><a href="datum/ai_holder.html#proc/set_busy_delay">set_busy_delay</a></th><td>Set the AI as 'busy' for a specific length of time.</td></tr><tr><th><a href="datum/ai_holder.html#proc/set_stance">set_stance</a></th><td>For setting the stance WITHOUT processing it</td></tr><tr><th><a href="datum/ai_holder.html#proc/target_filter_closest">target_filter_closest</a></th><td>Returns the closest target and anything tied with it for distance</td></tr><tr><th><a href="datum/ai_holder.html#proc/target_filter_distance">target_filter_distance</a></th><td>Targets closer to us than the current one.</td></tr><tr><th><a href="datum/ai_holder.html#proc/track_target_position">track_target_position</a></th><td>Updates the last known position of the target.</td></tr><tr><th><a href="datum/ai_holder.html#proc/walk_path">walk_path</a></th><td>Walk towards whatever.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/autopilot"><aside class="declaration">var </aside>autopilot <aside>– </aside> <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder.dm#L71"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder.dm 71"></a></h3><p>If true, the AI won't be deactivated if a client gets attached to the AI's mob.</p><h3 id="var/busy"><aside class="declaration">var </aside>busy <aside>– </aside> <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder.dm#L77"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder.dm 77"></a></h3><p>If true, the ticker will skip processing this mob until this is false. Good for if you need the
mob to stay still (e.g. delayed attacking). If you need the mob to be inactive for an extended period of time,
consider sleeping the AI instead.</p><h3 id="var/call_distance"><aside class="declaration">var </aside>call_distance <aside>– </aside> <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_cooperation.dm#L7"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_cooperation.dm 7"></a></h3><p>How far away calls for help will go for.</p><h3 id="var/cooperative"><aside class="declaration">var </aside>cooperative <aside>– </aside> <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_cooperation.dm#L4"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_cooperation.dm 4"></a></h3><p>If true, asks allies to help when fighting something.</p><h3 id="var/faction_friends"><aside class="declaration">var </aside>faction_friends <aside>– /list</aside> <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_cooperation.dm#L16"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_cooperation.dm 16"></a></h3><p>List of all mobs inside the faction with ai_holders that have cooperate on, to call for help without using range(). Note that this is only used for sending calls out. Receiving calls doesn't care about this list, only if the mob is in the faction.</p><h3 id="var/holder"><aside class="declaration">var </aside>holder <aside>– /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a></aside> <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder.dm#L63"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder.dm 63"></a></h3><p>The mob this datum is going to control.</p><h3 id="var/holder_required_type"><aside class="declaration">var </aside>holder_required_type <aside>– </aside> <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder.dm#L65"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder.dm 65"></a></h3><p>The required mob type of the holder.</p><h3 id="var/intelligence_level"><aside class="declaration">var </aside>intelligence_level <aside>– </aside> <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder.dm#L69"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder.dm 69"></a></h3><p>Adjust to make the AI be intentionally dumber, or make it more robust (e.g. dodging grenades).</p><h3 id="var/next_received_help_request"><aside class="declaration">var </aside>next_received_help_request <aside>– </aside> <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_cooperation.dm#L13"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_cooperation.dm 13"></a></h3><p>time when the mob can receive a help request from another mob</p><h3 id="var/next_sent_help_request"><aside class="declaration">var </aside>next_sent_help_request <aside>– </aside> <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_cooperation.dm#L10"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_cooperation.dm 10"></a></h3><p>time when this mob is allowed to call for help</p><h3 id="var/process_flags"><aside class="declaration">var </aside>process_flags <aside>– </aside> <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder.dm#L79"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder.dm 79"></a></h3><p>Where we're processing, see flag defines.</p><h3 id="var/snapshot"><aside class="declaration">var </aside>snapshot <aside>– /list</aside> <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder.dm#L81"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder.dm 81"></a></h3><p>A list used in mass-editing of AI datums, holding a snapshot of the 'before' state</p><h3 id="var/stance"><aside class="declaration">var </aside>stance <aside>– </aside> <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder.dm#L67"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder.dm 67"></a></h3><p>Determines if the mob should be doing a specific thing, e.g. attacking, following, standing around, etc.</p><h2 id="proc">Proc Details</h2><h3 id="proc/add_attacker"><aside class="declaration">proc </aside>add_attacker<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/A)  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_targeting.dm#L284"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_targeting.dm 284"></a></aside></h3><p>We were attacked by this thing recently</p><h3 id="proc/can_see_target"><aside class="declaration">proc </aside>can_see_target<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/target, view_range)  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_targeting.dm#L197"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_targeting.dm 197"></a></aside></h3><p>Check if target is visible to us.</p><h3 id="proc/check_attacker"><aside class="declaration">proc </aside>check_attacker<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/A)  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_targeting.dm#L280"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_targeting.dm 280"></a></aside></h3><p>Checks to see if an atom attacked us lately</p><h3 id="proc/find_target"><aside class="declaration">proc </aside>find_target<aside>(/list/possible_targets, has_targets_list)  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_targeting.dm#L40"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_targeting.dm 40"></a></aside></h3><p>Step 2, filter down possible targets to things we actually care about.</p><h3 id="proc/forget_everything"><aside class="declaration">proc </aside>forget_everything<aside>()  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder.dm#L184"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder.dm 184"></a></aside></h3><p>Resets a lot of 'memory' vars.</p><h3 id="proc/get_path"><aside class="declaration">proc </aside>get_path<aside>(/<a href="turf.html">turf</a>/target, get_to, max_distance)  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_pathfinding.dm#L42"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_pathfinding.dm 42"></a></aside></h3><p>A* now, try to a path to a target</p><h3 id="proc/give_target"><aside class="declaration">proc </aside>give_target<aside>(new_target, urgent)  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_targeting.dm#L72"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_targeting.dm 72"></a></aside></h3><p>Step 4, give us our selected target.</p><h3 id="proc/go_sleep"><aside class="declaration">proc </aside>go_sleep<aside>()  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder.dm#L159"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder.dm 159"></a></aside></h3><p>Makes this ai holder not get processed.
Called automatically when the host mob is killed.
Potential future optimization would be to sleep AIs which mobs that are far away from in-round players.</p><h3 id="proc/go_wake"><aside class="declaration">proc </aside>go_wake<aside>()  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder.dm#L169"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder.dm 169"></a></aside></h3><p>Reverses the <code>go_sleep()</code> proc.
Revived mobs will wake their AI if they have one.</p><h3 id="proc/handle_special_strategical"><aside class="declaration">proc </aside>handle_special_strategical<aside>()  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder.dm#L211"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder.dm 211"></a></aside></h3><p>Override this for special things without polluting the main <code>handle_strategicals()</code> loop.</p><h3 id="proc/handle_special_tactic"><aside class="declaration">proc </aside>handle_special_tactic<aside>()  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder.dm#L208"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder.dm 208"></a></aside></h3><p>Override this for special things without polluting the main <code>handle_tactics()</code> loop.</p><h3 id="proc/handle_stance_strategical"><aside class="declaration">proc </aside>handle_stance_strategical<aside>()  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder.dm#L305"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder.dm 305"></a></aside></h3><p>This is called every two seconds.</p><h3 id="proc/handle_stance_tactical"><aside class="declaration">proc </aside>handle_stance_tactical<aside>()  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder.dm#L235"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder.dm 235"></a></aside></h3><p>This is called every half a second.</p><h3 id="proc/handle_strategicals"><aside class="declaration">proc </aside>handle_strategicals<aside>()  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder.dm#L199"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder.dm 199"></a></aside></h3><p>'Strategical' processes that are more expensive on the CPU and so don't get run as often as the above proc, such as A* pathfinding or robust targeting.</p><h3 id="proc/handle_tactics"><aside class="declaration">proc </aside>handle_tactics<aside>()  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder.dm#L190"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder.dm 190"></a></aside></h3><p>'Tactical' processes such as moving a step, meleeing an enemy, firing a projectile, and other fairly cheap actions that need to happen quickly.</p><h3 id="proc/handle_wander_movement"><aside class="declaration">proc </aside>handle_wander_movement<aside>()  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_movement.dm#L179"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_movement.dm 179"></a></aside></h3><p>Wanders randomly in cardinal directions.</p><h3 id="proc/help_requested"><aside class="declaration">proc </aside>help_requested<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/friend)  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_cooperation.dm#L74"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_cooperation.dm 74"></a></aside></h3><p>What allies receive when someone else is calling for help.</p><h3 id="proc/list_targets"><aside class="declaration">proc </aside>list_targets<aside>()  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_targeting.dm#L27"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_targeting.dm 27"></a></aside></h3><p>Step 1, find out what we can see.</p><h3 id="proc/lose_target"><aside class="declaration">proc </aside>lose_target<aside>()  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_targeting.dm#L165"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_targeting.dm 165"></a></aside></h3><p>'Soft' loss of target. They may still exist, we still have some info about them maybe.</p><h3 id="proc/lose_target_position"><aside class="declaration">proc </aside>lose_target_position<aside>()  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_targeting.dm#L237"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_targeting.dm 237"></a></aside></h3><p>Resets the last known position to null.</p><h3 id="proc/move_once"><aside class="declaration">proc </aside>move_once<aside>()  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_movement.dm#L155"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_movement.dm 155"></a></aside></h3><p>Take one step along a path</p><h3 id="proc/on_attacked"><aside class="declaration">proc </aside>on_attacked<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/AM)  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_targeting.dm#L273"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_targeting.dm 273"></a></aside></h3><p>Sets a few vars so mobs that threaten will react faster to an attacker or someone who attacked them before.</p><h3 id="proc/pick_target"><aside class="declaration">proc </aside>pick_target<aside>(/list/targets)  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_targeting.dm#L56"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_targeting.dm 56"></a></aside></h3><p>Step 3, pick among the possible, attackable targets.</p><h3 id="proc/react_to_attack"><aside class="declaration">proc </aside>react_to_attack<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/attacker)  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_targeting.dm#L244"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_targeting.dm 244"></a></aside></h3><p>Responds to a hostile action against its mob.</p><h3 id="proc/receive_taunt"><aside class="declaration">proc </aside>receive_taunt<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/taunter, force_target_switch)  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_targeting.dm#L296"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_targeting.dm 296"></a></aside></h3><p>Causes targeting to prefer targeting the taunter if possible.
This generally occurs if more than one option is within striking distance, including the taunter.
Otherwise the default filter will prefer the closest target.</p><h3 id="proc/remove_attacker"><aside class="declaration">proc </aside>remove_attacker<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/A)  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_targeting.dm#L288"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_targeting.dm 288"></a></aside></h3><p>Forgive this attacker</p><h3 id="proc/remove_target"><aside class="declaration">proc </aside>remove_target<aside>()  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_targeting.dm#L186"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_targeting.dm 186"></a></aside></h3><p>'Hard' loss of target. Clean things up and return to idle.</p><h3 id="proc/request_help"><aside class="declaration">proc </aside>request_help<aside>()  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_cooperation.dm#L50"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_cooperation.dm 50"></a></aside></h3><p>Requests help in combat from other mobs possessing ai_holders.</p><h3 id="proc/set_busy_delay"><aside class="declaration">proc </aside>set_busy_delay<aside>(time)  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder.dm#L150"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder.dm 150"></a></aside></h3><p>Set the AI as 'busy' for a specific length of time.</p><h3 id="proc/set_stance"><aside class="declaration">proc </aside>set_stance<aside>(new_stance)  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder.dm#L214"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder.dm 214"></a></aside></h3><p>For setting the stance WITHOUT processing it</p><h3 id="proc/target_filter_closest"><aside class="declaration">proc </aside>target_filter_closest<aside>(/list/targets)  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_targeting.dm#L102"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_targeting.dm 102"></a></aside></h3><p>Returns the closest target and anything tied with it for distance</p><h3 id="proc/target_filter_distance"><aside class="declaration">proc </aside>target_filter_distance<aside>(/list/targets)  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_targeting.dm#L91"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_targeting.dm 91"></a></aside></h3><p>Targets closer to us than the current one.</p><h3 id="proc/track_target_position"><aside class="declaration">proc </aside>track_target_position<aside>()  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_targeting.dm#L224"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_targeting.dm 224"></a></aside></h3><p>Updates the last known position of the target.</p><h3 id="proc/walk_path"><aside class="declaration">proc </aside>walk_path<aside>(/<a href="atom.html">atom</a>/A, get_to)  <a href="https://github.com/Baystation12/Baystation12/blob/c6291a6c5a620d1b78b516369fd9c54a752f2b6d/code/modules/ai/ai_holder_movement.dm#L114"><img src="git.png" width="16" height="16" title="code/modules/ai/ai_holder_movement.dm 114"></a></aside></h3><p>Walk towards whatever.</p></main><footer>baystation12.dme <a href="https://github.com/Baystation12/Baystation12/tree/c6291a6c5a620d1b78b516369fd9c54a752f2b6d">c6291a6</a> (dev) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>