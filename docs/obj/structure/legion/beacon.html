<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/structure/legion/beacon - Space Station 13</title></head><body><header><a href="index.html">Space Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/structure/legion/beacon.html#var">Var Details</a> - <a href="obj/structure/legion/beacon.html#proc">Proc Details</a></header><main><h1>beacon <aside>/<a href="obj.html">obj</a>/<a href="obj/structure/legion/beacon.html">structure/legion/beacon</a></aside> <a href="https://github.com/Baystation12/Baystation12/blob/1db4ebea2aa5fb0ad2ff1d46af390c035a5be500/packs/legion/structure.dm#L6"><img src="git.png" width="16" height="16" title="packs/legion/structure.dm 6"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/structure/legion/beacon.html#var/BEACON_STATE_OFF">BEACON_STATE_OFF</a></th><td>The beacon is currently off.</td></tr><tr><th><a href="obj/structure/legion/beacon.html#var/BEACON_STATE_ON">BEACON_STATE_ON</a></th><td>The beacon is currently active.</td></tr><tr><th><a href="obj/structure/legion/beacon.html#var/beacon_state">beacon_state</a></th><td>Integer (ON of <code>BEACON_STATE_*</code>). The current state of the beacon.</td></tr><tr><th><a href="obj/structure/legion/beacon.html#var/broadcast_change">broadcast_change</a></th><td>Integer. Percentage change of a legion message broadcast per tick.</td></tr><tr><th><a href="obj/structure/legion/beacon.html#var/broadcast_rate">broadcast_rate</a></th><td>Integer. Minimum time between legion message broadcasts.</td></tr><tr><th><a href="obj/structure/legion/beacon.html#var/last_broadcast_time">last_broadcast_time</a></th><td>Integer. <code>world.time</code> of the last legion broadcast.</td></tr><tr><th><a href="obj/structure/legion/beacon.html#var/last_spawn_time">last_spawn_time</a></th><td>Integer. <code>world.time</code> of the last mob spawn.</td></tr><tr><th><a href="obj/structure/legion/beacon.html#var/linked_mobs">linked_mobs</a></th><td>List (Types of <code>/mob/living/simple_animal/hostile/legion</code>). Mobs that this beacon has spawned and is linked to.</td></tr><tr><th><a href="obj/structure/legion/beacon.html#var/max_active_bots">max_active_bots</a></th><td>Integer. Maximum number of active bots this beacon can have spawned at any given time.</td></tr><tr><th><a href="obj/structure/legion/beacon.html#var/max_retreat_range">max_retreat_range</a></th><td>Integer. Maximum range in tiles the beacon can retreat in.</td></tr><tr><th><a href="obj/structure/legion/beacon.html#var/min_retreat_range">min_retreat_range</a></th><td>Integer. Minimum range in tiles the beacon can retreat in.</td></tr><tr><th><a href="obj/structure/legion/beacon.html#var/sensor_range">sensor_range</a></th><td>Integer. Range, in tiles, the beacon will detect mobs.</td></tr><tr><th><a href="obj/structure/legion/beacon.html#var/spawn_range">spawn_range</a></th><td>Integer. Max range, in tiles, the beacon can spawn a legion in.</td></tr><tr><th><a href="obj/structure/legion/beacon.html#var/spawn_rate">spawn_rate</a></th><td>Integer. Time between mob spawns.</td></tr><tr><th><a href="obj/structure/legion/beacon.html#var/spawn_types">spawn_types</a></th><td>List (Type paths of <code>/mob/living/simple_animal/hostile/legion</code>). Type paths that this beacon can spawn.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/structure/legion/beacon.html#proc/effect_warp">effect_warp</a></th><td>Creates a warp effect on the beacon's current turf.</td></tr><tr><th><a href="obj/structure/legion/beacon.html#proc/retreat">retreat</a></th><td>The beacon teleports to a new location in a radius within <code>turfs_in_max_range</code>, first trying a turf outside
<code>turfs_in_min_range</code> then one within minimum. If no valid turf is found, nothing happens.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/BEACON_STATE_OFF"><aside class="declaration">var </aside>BEACON_STATE_OFF <aside>– /const</aside> <a href="https://github.com/Baystation12/Baystation12/blob/1db4ebea2aa5fb0ad2ff1d46af390c035a5be500/packs/legion/structure.dm#L53"><img src="git.png" width="16" height="16" title="packs/legion/structure.dm 53"></a></h3><p>The beacon is currently off.</p><h3 id="var/BEACON_STATE_ON"><aside class="declaration">var </aside>BEACON_STATE_ON <aside>– /const</aside> <a href="https://github.com/Baystation12/Baystation12/blob/1db4ebea2aa5fb0ad2ff1d46af390c035a5be500/packs/legion/structure.dm#L55"><img src="git.png" width="16" height="16" title="packs/legion/structure.dm 55"></a></h3><p>The beacon is currently active.</p><h3 id="var/beacon_state"><aside class="declaration">var </aside>beacon_state <aside>– </aside> <a href="https://github.com/Baystation12/Baystation12/blob/1db4ebea2aa5fb0ad2ff1d46af390c035a5be500/packs/legion/structure.dm#L42"><img src="git.png" width="16" height="16" title="packs/legion/structure.dm 42"></a></h3><p>Integer (ON of <code>BEACON_STATE_*</code>). The current state of the beacon.</p><h3 id="var/broadcast_change"><aside class="declaration">var </aside>broadcast_change <aside>– </aside> <a href="https://github.com/Baystation12/Baystation12/blob/1db4ebea2aa5fb0ad2ff1d46af390c035a5be500/packs/legion/structure.dm#L36"><img src="git.png" width="16" height="16" title="packs/legion/structure.dm 36"></a></h3><p>Integer. Percentage change of a legion message broadcast per tick.</p><h3 id="var/broadcast_rate"><aside class="declaration">var </aside>broadcast_rate <aside>– </aside> <a href="https://github.com/Baystation12/Baystation12/blob/1db4ebea2aa5fb0ad2ff1d46af390c035a5be500/packs/legion/structure.dm#L33"><img src="git.png" width="16" height="16" title="packs/legion/structure.dm 33"></a></h3><p>Integer. Minimum time between legion message broadcasts.</p><h3 id="var/last_broadcast_time"><aside class="declaration">var </aside>last_broadcast_time <aside>– </aside> <a href="https://github.com/Baystation12/Baystation12/blob/1db4ebea2aa5fb0ad2ff1d46af390c035a5be500/packs/legion/structure.dm#L39"><img src="git.png" width="16" height="16" title="packs/legion/structure.dm 39"></a></h3><p>Integer. <code>world.time</code> of the last legion broadcast.</p><h3 id="var/last_spawn_time"><aside class="declaration">var </aside>last_spawn_time <aside>– </aside> <a href="https://github.com/Baystation12/Baystation12/blob/1db4ebea2aa5fb0ad2ff1d46af390c035a5be500/packs/legion/structure.dm#L30"><img src="git.png" width="16" height="16" title="packs/legion/structure.dm 30"></a></h3><p>Integer. <code>world.time</code> of the last mob spawn.</p><h3 id="var/linked_mobs"><aside class="declaration">var </aside>linked_mobs <aside>– /list</aside> <a href="https://github.com/Baystation12/Baystation12/blob/1db4ebea2aa5fb0ad2ff1d46af390c035a5be500/packs/legion/structure.dm#L15"><img src="git.png" width="16" height="16" title="packs/legion/structure.dm 15"></a></h3><p>List (Types of <code>/mob/living/simple_animal/hostile/legion</code>). Mobs that this beacon has spawned and is linked to.</p><h3 id="var/max_active_bots"><aside class="declaration">var </aside>max_active_bots <aside>– </aside> <a href="https://github.com/Baystation12/Baystation12/blob/1db4ebea2aa5fb0ad2ff1d46af390c035a5be500/packs/legion/structure.dm#L45"><img src="git.png" width="16" height="16" title="packs/legion/structure.dm 45"></a></h3><p>Integer. Maximum number of active bots this beacon can have spawned at any given time.</p><h3 id="var/max_retreat_range"><aside class="declaration">var </aside>max_retreat_range <aside>– </aside> <a href="https://github.com/Baystation12/Baystation12/blob/1db4ebea2aa5fb0ad2ff1d46af390c035a5be500/packs/legion/structure.dm#L48"><img src="git.png" width="16" height="16" title="packs/legion/structure.dm 48"></a></h3><p>Integer. Maximum range in tiles the beacon can retreat in.</p><h3 id="var/min_retreat_range"><aside class="declaration">var </aside>min_retreat_range <aside>– </aside> <a href="https://github.com/Baystation12/Baystation12/blob/1db4ebea2aa5fb0ad2ff1d46af390c035a5be500/packs/legion/structure.dm#L50"><img src="git.png" width="16" height="16" title="packs/legion/structure.dm 50"></a></h3><p>Integer. Minimum range in tiles the beacon can retreat in.</p><h3 id="var/sensor_range"><aside class="declaration">var </aside>sensor_range <aside>– </aside> <a href="https://github.com/Baystation12/Baystation12/blob/1db4ebea2aa5fb0ad2ff1d46af390c035a5be500/packs/legion/structure.dm#L24"><img src="git.png" width="16" height="16" title="packs/legion/structure.dm 24"></a></h3><p>Integer. Range, in tiles, the beacon will detect mobs.</p><h3 id="var/spawn_range"><aside class="declaration">var </aside>spawn_range <aside>– </aside> <a href="https://github.com/Baystation12/Baystation12/blob/1db4ebea2aa5fb0ad2ff1d46af390c035a5be500/packs/legion/structure.dm#L21"><img src="git.png" width="16" height="16" title="packs/legion/structure.dm 21"></a></h3><p>Integer. Max range, in tiles, the beacon can spawn a legion in.</p><h3 id="var/spawn_rate"><aside class="declaration">var </aside>spawn_rate <aside>– </aside> <a href="https://github.com/Baystation12/Baystation12/blob/1db4ebea2aa5fb0ad2ff1d46af390c035a5be500/packs/legion/structure.dm#L27"><img src="git.png" width="16" height="16" title="packs/legion/structure.dm 27"></a></h3><p>Integer. Time between mob spawns.</p><h3 id="var/spawn_types"><aside class="declaration">var </aside>spawn_types <aside>– /list</aside> <a href="https://github.com/Baystation12/Baystation12/blob/1db4ebea2aa5fb0ad2ff1d46af390c035a5be500/packs/legion/structure.dm#L18"><img src="git.png" width="16" height="16" title="packs/legion/structure.dm 18"></a></h3><p>List (Type paths of <code>/mob/living/simple_animal/hostile/legion</code>). Type paths that this beacon can spawn.</p><h2 id="proc">Proc Details</h2><h3 id="proc/effect_warp"><aside class="declaration">proc </aside>effect_warp<aside>(/<a href="turf.html">turf</a>/target)  <a href="https://github.com/Baystation12/Baystation12/blob/1db4ebea2aa5fb0ad2ff1d46af390c035a5be500/packs/legion/structure.dm#L239"><img src="git.png" width="16" height="16" title="packs/legion/structure.dm 239"></a></aside></h3><p>Creates a warp effect on the beacon's current turf.</p><h3 id="proc/retreat"><aside class="declaration">proc </aside>retreat<aside>()  <a href="https://github.com/Baystation12/Baystation12/blob/1db4ebea2aa5fb0ad2ff1d46af390c035a5be500/packs/legion/structure.dm#L175"><img src="git.png" width="16" height="16" title="packs/legion/structure.dm 175"></a></aside></h3><p>The beacon teleports to a new location in a radius within <code>turfs_in_max_range</code>, first trying a turf outside
<code>turfs_in_min_range</code> then one within minimum. If no valid turf is found, nothing happens.</p></main><footer>baystation12.dme <a href="https://github.com/Baystation12/Baystation12/tree/1db4ebea2aa5fb0ad2ff1d46af390c035a5be500">1db4ebe</a> (dev) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>