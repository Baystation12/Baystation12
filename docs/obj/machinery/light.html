<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;obj&#x2F;machinery&#x2F;light - Space Station 13</title>
</head>
<body>
<header>
    <a href="index.html">Space Station 13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="obj/machinery/light.html#var">Var Details</a> - <a href="obj/machinery/light.html#proc">Proc Details</a></header>
<main>
<h1>light <aside>/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/light.html">light</a></aside>
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/eb4e412b6b74d3be306f3f84e4bde2e159e0684a/code/modules/power/lighting.dm#L161">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;power&#x2F;lighting.dm 161"/></a></h1>

<table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="obj/machinery/light.html#var/base_state">base_state</a></th><td>Base description and <code>icon_state</code>.</td></tr>
            <tr><th><a href="obj/machinery/light.html#var/construct_type">construct_type</a></th><td>Type path for the machine to create when dismantled. Should be <code>/obj/machinery/light_construct</code> or a subtype.</td></tr>
            <tr><th><a href="obj/machinery/light.html#var/current_mode">current_mode</a></th><td>The light's current lighting mode. One of <code>LIGHTMODE_*</code>.</td></tr>
            <tr><th><a href="obj/machinery/light.html#var/flickering">flickering</a></th><td>Whether or not the light is currently flickering.</td></tr>
            <tr><th><a href="obj/machinery/light.html#var/light_type">light_type</a></th><td>Type path of the light bulb item. Used for initialization and to determine what bulbs fit.</td></tr>
            <tr><th><a href="obj/machinery/light.html#var/lightbulb">lightbulb</a></th><td>The installed light bolb.</td></tr>
            <tr><th><a href="obj/machinery/light.html#var/on">on</a></th><td>Whether or not the light is turned on.</td></tr>
            <tr><th><a href="obj/machinery/light.html#var/s">s</a></th><td><code>spark_spread</code> effect datum.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="obj/machinery/light.html#proc/broken">broken</a></th><td>Break the light and make sparks if it was on.</td></tr>
            <tr><th><a href="obj/machinery/light.html#proc/fix">fix</a></th><td>Fixes a broken light.</td></tr>
            <tr><th><a href="obj/machinery/light.html#proc/flicker">flicker</a></th><td>Causes the light to start flickering.</td></tr>
            <tr><th><a href="obj/machinery/light.html#proc/get_color_from_area">get_color_from_area</a></th><td>Fetches the light's color based on area flags. Used for Init and for smartly installing new bulbs during runtime (See light replacers).</td></tr>
            <tr><th><a href="obj/machinery/light.html#proc/get_fitting_name">get_fitting_name</a></th><td>Fetches the name of <code>light_type</code>.</td></tr>
            <tr><th><a href="obj/machinery/light.html#proc/get_mode_color">get_mode_color</a></th><td>Return's the current mode's <code>l_color</code> value or, if there is no <code>current_mode</code>, the lightbulb's color.</td></tr>
            <tr><th><a href="obj/machinery/light.html#proc/get_status">get_status</a></th><td>Returns <code>lightbulb.status</code>.</td></tr>
            <tr><th><a href="obj/machinery/light.html#proc/insert_bulb">insert_bulb</a></th><td>Attempts to insert a given light bulb. Called by <code>attackby()</code>.</td></tr>
            <tr><th><a href="obj/machinery/light.html#proc/remove_bulb">remove_bulb</a></th><td>Attempts to remove an installed light bulb. Called by <code>attack_hand()</code>.</td></tr>
            <tr><th><a href="obj/machinery/light.html#proc/set_emergency_lighting">set_emergency_lighting</a></th><td>Toggles the light's emergency lighting mode (<code>LIGHTMODE_EMERGENCY</code>).</td></tr>
            <tr><th><a href="obj/machinery/light.html#proc/set_mode">set_mode</a></th><td>Set's the lights <code>current_mode</code>. <code>new_mode</code> should be one of <code>LIGHTMODE_*</code>.</td></tr>
            <tr><th><a href="obj/machinery/light.html#proc/seton">seton</a></th><td>Sets the light's <code>on</code> state, if there's a functional light bulb installed.</td></tr>
            <tr><th><a href="obj/machinery/light.html#proc/switch_check">switch_check</a></th><td>Calls <code>lightbulb.switch_on()</code> and updates the lighting and icon accordingly.</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/base_state"><aside class="declaration">var </aside>base_state
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/eb4e412b6b74d3be306f3f84e4bde2e159e0684a/code/modules/power/lighting.dm#L165">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;power&#x2F;lighting.dm 165"/></a></h3>
        <p>Base description and <code>icon_state</code>.</p><h3 id="var/construct_type"><aside class="declaration">var </aside>construct_type
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/eb4e412b6b74d3be306f3f84e4bde2e159e0684a/code/modules/power/lighting.dm#L182">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;power&#x2F;lighting.dm 182"/></a></h3>
        <p>Type path for the machine to create when dismantled. Should be <code>/obj/machinery/light_construct</code> or a subtype.</p><h3 id="var/current_mode"><aside class="declaration">var </aside>current_mode
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/eb4e412b6b74d3be306f3f84e4bde2e159e0684a/code/modules/power/lighting.dm#L191">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;power&#x2F;lighting.dm 191"/></a></h3>
        <p>The light's current lighting mode. One of <code>LIGHTMODE_*</code>.</p><h3 id="var/flickering"><aside class="declaration">var </aside>flickering
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/eb4e412b6b74d3be306f3f84e4bde2e159e0684a/code/modules/power/lighting.dm#L178">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;power&#x2F;lighting.dm 178"/></a></h3>
        <p>Whether or not the light is currently flickering.</p><h3 id="var/light_type"><aside class="declaration">var </aside>light_type
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/eb4e412b6b74d3be306f3f84e4bde2e159e0684a/code/modules/power/lighting.dm#L180">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;power&#x2F;lighting.dm 180"/></a></h3>
        <p>Type path of the light bulb item. Used for initialization and to determine what bulbs fit.</p><h3 id="var/lightbulb"><aside class="declaration">var </aside>lightbulb
            <aside>&ndash; /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/light.html">light</a></aside>
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/eb4e412b6b74d3be306f3f84e4bde2e159e0684a/code/modules/power/lighting.dm#L188">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;power&#x2F;lighting.dm 188"/></a></h3>
        <p>The installed light bolb.</p><h3 id="var/on"><aside class="declaration">var </aside>on
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/eb4e412b6b74d3be306f3f84e4bde2e159e0684a/code/modules/power/lighting.dm#L176">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;power&#x2F;lighting.dm 176"/></a></h3>
        <p>Whether or not the light is turned on.</p><h3 id="var/s"><aside class="declaration">var </aside>s
            <aside>&ndash; /<a href="datum.html">datum</a>/effect/effect/system/spark_spread</aside>
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/eb4e412b6b74d3be306f3f84e4bde2e159e0684a/code/modules/power/lighting.dm#L185">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;power&#x2F;lighting.dm 185"/></a></h3>
        <p><code>spark_spread</code> effect datum.</p><h2 id="proc">Proc Details</h2><h3 id="proc/broken"><aside class="declaration">proc </aside>broken<aside>(skip_sound_and_sparks) 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/eb4e412b6b74d3be306f3f84e4bde2e159e0684a/code/modules/power/lighting.dm#L568">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;power&#x2F;lighting.dm 568"/></a></aside>
        </h3>
        <p>Break the light and make sparks if it was on.</p><h3 id="proc/fix"><aside class="declaration">proc </aside>fix<aside>() 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/eb4e412b6b74d3be306f3f84e4bde2e159e0684a/code/modules/power/lighting.dm#L582">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;power&#x2F;lighting.dm 582"/></a></aside>
        </h3>
        <p>Fixes a broken light.</p><h3 id="proc/flicker"><aside class="declaration">proc </aside>flicker<aside>(amount) 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/eb4e412b6b74d3be306f3f84e4bde2e159e0684a/code/modules/power/lighting.dm#L488">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;power&#x2F;lighting.dm 488"/></a></aside>
        </h3>
        <p>Causes the light to start flickering.</p><h3 id="proc/get_color_from_area"><aside class="declaration">proc </aside>get_color_from_area<aside>() 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/eb4e412b6b74d3be306f3f84e4bde2e159e0684a/code/modules/power/lighting.dm#L242">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;power&#x2F;lighting.dm 242"/></a></aside>
        </h3>
        <p>Fetches the light's color based on area flags. Used for Init and for smartly installing new bulbs during runtime (See light replacers).</p><h3 id="proc/get_fitting_name"><aside class="declaration">proc </aside>get_fitting_name<aside>() 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/eb4e412b6b74d3be306f3f84e4bde2e159e0684a/code/modules/power/lighting.dm#L391">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;power&#x2F;lighting.dm 391"/></a></aside>
        </h3>
        <p>Fetches the name of <code>light_type</code>.</p><h3 id="proc/get_mode_color"><aside class="declaration">proc </aside>get_mode_color<aside>() 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/eb4e412b6b74d3be306f3f84e4bde2e159e0684a/code/modules/power/lighting.dm#L350">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;power&#x2F;lighting.dm 350"/></a></aside>
        </h3>
        <p>Return's the current mode's <code>l_color</code> value or, if there is no <code>current_mode</code>, the lightbulb's color.</p><h3 id="proc/get_status"><aside class="declaration">proc </aside>get_status<aside>() 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/eb4e412b6b74d3be306f3f84e4bde2e159e0684a/code/modules/power/lighting.dm#L314">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;power&#x2F;lighting.dm 314"/></a></aside>
        </h3>
        <p>Returns <code>lightbulb.status</code>.</p><h3 id="proc/insert_bulb"><aside class="declaration">proc </aside>insert_bulb<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/light.html">light</a>/L) 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/eb4e412b6b74d3be306f3f84e4bde2e159e0684a/code/modules/power/lighting.dm#L396">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;power&#x2F;lighting.dm 396"/></a></aside>
        </h3>
        <p>Attempts to insert a given light bulb. Called by <code>attackby()</code>.</p><h3 id="proc/remove_bulb"><aside class="declaration">proc </aside>remove_bulb<aside>() 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/eb4e412b6b74d3be306f3f84e4bde2e159e0684a/code/modules/power/lighting.dm#L404">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;power&#x2F;lighting.dm 404"/></a></aside>
        </h3>
        <p>Attempts to remove an installed light bulb. Called by <code>attack_hand()</code>.</p><h3 id="proc/set_emergency_lighting"><aside class="declaration">proc </aside>set_emergency_lighting<aside>(enable) 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/eb4e412b6b74d3be306f3f84e4bde2e159e0684a/code/modules/power/lighting.dm#L359">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;power&#x2F;lighting.dm 359"/></a></aside>
        </h3>
        <p>Toggles the light's emergency lighting mode (<code>LIGHTMODE_EMERGENCY</code>).</p><h3 id="proc/set_mode"><aside class="declaration">proc </aside>set_mode<aside>(new_mode) 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/eb4e412b6b74d3be306f3f84e4bde2e159e0684a/code/modules/power/lighting.dm#L344">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;power&#x2F;lighting.dm 344"/></a></aside>
        </h3>
        <p>Set's the lights <code>current_mode</code>. <code>new_mode</code> should be one of <code>LIGHTMODE_*</code>.</p><h3 id="proc/seton"><aside class="declaration">proc </aside>seton<aside>(state) 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/eb4e412b6b74d3be306f3f84e4bde2e159e0684a/code/modules/power/lighting.dm#L373">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;power&#x2F;lighting.dm 373"/></a></aside>
        </h3>
        <p>Sets the light's <code>on</code> state, if there's a functional light bulb installed.</p><h3 id="proc/switch_check"><aside class="declaration">proc </aside>switch_check<aside>() 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/eb4e412b6b74d3be306f3f84e4bde2e159e0684a/code/modules/power/lighting.dm#L321">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;power&#x2F;lighting.dm 321"/></a></aside>
        </h3>
        <p>Calls <code>lightbulb.switch_on()</code> and updates the lighting and icon accordingly.</p></main>
<footer>
    baystation12.dme
    <a href="https://github.com/Baystation12/Baystation12/tree/eb4e412b6b74d3be306f3f84e4bde2e159e0684a">eb4e412</a>
        (dev) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/src/dmdoc/README.md">dmdoc 1.4.1</a></footer>
</body>
</html>
