<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;obj - Space Station 13</title>
</head>
<body>
<header>
    <a href="index.html">Space Station 13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="obj.html#var">Var Details</a> - <a href="obj.html#proc">Proc Details</a></header>
<main>
<h1>obj <aside>/<a href="obj.html">obj</a></aside><aside> inherits /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a></aside>
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/a29137d0f5d5281e7cbfdceb41f4eb257fc0819e/code/game/objects/buckling.dm#L1">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;buckling.dm 1"/></a></h1>

<table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="obj.html#var/attacked_verb">attacked_verb</a></th><td>Verb used when the object is punched. If defined, overrides the punch's usual verb</td></tr>
            <tr><th><a href="obj.html#var/buckle_pixel_shift">buckle_pixel_shift</a></th><td>A list of (x, y, z) to offset buckled_mob by, or null.
Best assigned to reference a static list, eg:
/myobj
var/static/list/myobj_buckle_pixel_shift = list(0, 0, 6)
/myobj/Destroy()
buckle_pixel_shift = null
/myobj/Initialize()
buckle_pixel_shift = myobj_buckle_pixel_shift</td></tr>
            <tr><th><a href="obj.html#var/edge">edge</a></th><td>Whether this object is more likely to dismember</td></tr>
            <tr><th><a href="obj.html#var/puncture">puncture</a></th><td>For items that can puncture e.g. thick plastic but aren't necessarily sharp. Called in can_puncture()</td></tr>
            <tr><th><a href="obj.html#var/sharp">sharp</a></th><td>whether this object cuts</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="obj.html#proc/AttemptBuckle">AttemptBuckle</a></th><td>Attempts to buckle the target to the object. Includes <code>can_buckle()</code> checks and a timer. Calls <code>user_buckle_mob()</code>.</td></tr>
            <tr><th><a href="obj.html#proc/AttemptUnbuckle">AttemptUnbuckle</a></th><td>Attempts to unbuckle the object's buckled mob. Includes <code>can_unbuckle()</code> checks and a timer. Calls <code>user_unbuckle_mob()</code>.</td></tr>
            <tr><th><a href="obj.html#proc/SetupChameleonExtension">SetupChameleonExtension</a></th><td>Call this proc to automatically setup the best suited chameleon extension for the instance, if one exists.</td></tr>
            <tr><th><a href="obj.html#proc/buckle_mob">buckle_mob</a></th><td>Handles buckling the given mob. Assumes most conditions are met - This only checks if <code>loc</code> is the same and if the mob's <code>buckled</code> is null to avoid broken states.</td></tr>
            <tr><th><a href="obj.html#proc/can_anchor">can_anchor</a></th><td>Whether or not the object can be anchored in its current state/position. Assumes the anchorable flag has already been checked.</td></tr>
            <tr><th><a href="obj.html#proc/can_buckle">can_buckle</a></th><td>Checks if a mob can be buckled to the object.</td></tr>
            <tr><th><a href="obj.html#proc/can_unbuckle">can_unbuckle</a></th><td>Checks if a mob can unbuckle the object.</td></tr>
            <tr><th><a href="obj.html#proc/clear_buckle">clear_buckle</a></th><td>Clears any buckling references that exist between object and buckled mob, without clearing any unrelated references. Used by the destroyed event handler.</td></tr>
            <tr><th><a href="obj.html#proc/is_safe_to_step">is_safe_to_step</a></th><td>Test for if stepping on a tile containing this obj is safe to do, used for things like landmines and cliffs.</td></tr>
            <tr><th><a href="obj.html#proc/post_anchor_change">post_anchor_change</a></th><td>Called when the object's anchor state is changed via <code>wrench_floor_bolts()</code>.</td></tr>
            <tr><th><a href="obj.html#proc/unbuckle_mob">unbuckle_mob</a></th><td>Handles unbuckling any buckled mobs. Assumes all conditions are met.</td></tr>
            <tr><th><a href="obj.html#proc/user_buckle_mob">user_buckle_mob</a></th><td>Handles buckling a mob by another mob (Or the same mob). Includes <code>can_buckle()</code> checks.</td></tr>
            <tr><th><a href="obj.html#proc/user_unbuckle_mob">user_unbuckle_mob</a></th><td>Handles unbuckling a mob by another mob (Or the same mob). Includes <code>can_unbuckle()</code> checks.</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/attacked_verb"><aside class="declaration">var </aside>attacked_verb
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/a29137d0f5d5281e7cbfdceb41f4eb257fc0819e/code/game/objects/buckling.dm#L15">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;buckling.dm 15"/></a></h3>
        <p>Verb used when the object is punched. If defined, overrides the punch's usual verb</p><h3 id="var/buckle_pixel_shift"><aside class="declaration">var </aside>buckle_pixel_shift
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/a29137d0f5d5281e7cbfdceb41f4eb257fc0819e/code/game/objects/buckling.dm#L30">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;buckling.dm 30"/></a></h3>
        <p>A list of (x, y, z) to offset buckled_mob by, or null.
Best assigned to reference a static list, eg:
/myobj
var/static/list/myobj_buckle_pixel_shift = list(0, 0, 6)
/myobj/Destroy()
buckle_pixel_shift = null
/myobj/Initialize()
buckle_pixel_shift = myobj_buckle_pixel_shift</p><h3 id="var/edge"><aside class="declaration">var </aside>edge
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/a29137d0f5d5281e7cbfdceb41f4eb257fc0819e/code/game/objects/objs.dm#L14">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;objs.dm 14"/></a></h3>
        <p>Whether this object is more likely to dismember</p><h3 id="var/puncture"><aside class="declaration">var </aside>puncture
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/a29137d0f5d5281e7cbfdceb41f4eb257fc0819e/code/game/objects/objs.dm#L16">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;objs.dm 16"/></a></h3>
        <p>For items that can puncture e.g. thick plastic but aren't necessarily sharp. Called in can_puncture()</p><h3 id="var/sharp"><aside class="declaration">var </aside>sharp
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/a29137d0f5d5281e7cbfdceb41f4eb257fc0819e/code/game/objects/objs.dm#L12">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;objs.dm 12"/></a></h3>
        <p>whether this object cuts</p><h2 id="proc">Proc Details</h2><h3 id="proc/AttemptBuckle"><aside class="declaration">proc </aside>AttemptBuckle<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/target, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, silent) 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/a29137d0f5d5281e7cbfdceb41f4eb257fc0819e/code/game/objects/buckling.dm#L185">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;buckling.dm 185"/></a></aside>
        </h3>
        <p>Attempts to buckle the target to the object. Includes <code>can_buckle()</code> checks and a timer. Calls <code>user_buckle_mob()</code>.</p>
<p>Generally, you should call this during user interactions instead of directly calling the buckle procs.</p>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>target</code> - Mob to be buckled.</li>
<li><code>user</code> - Mob attempting to perform the buckling. Target of failure feedback messages.</li>
<li><code>silent</code> (Boolean, default <code>FALSE</code>) - If set, does not display feedback messages. Passed to <code>can_buckle()</code> and <code>user_buckle_mob()</code>.</li>
</ul>
<p>Returns boolean. Whether or not the buckling was successful.</p><h3 id="proc/AttemptUnbuckle"><aside class="declaration">proc </aside>AttemptUnbuckle<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, silent) 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/a29137d0f5d5281e7cbfdceb41f4eb257fc0819e/code/game/objects/buckling.dm#L208">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;buckling.dm 208"/></a></aside>
        </h3>
        <p>Attempts to unbuckle the object's buckled mob. Includes <code>can_unbuckle()</code> checks and a timer. Calls <code>user_unbuckle_mob()</code>.</p>
<p>Generally, you should call this during user interactions instead of directly calling the buckle procs.</p>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>user</code> - Mob attempting to perform the unbuckling. Target of failure feedback messages.</li>
<li><code>silent</code> (Boolean, default <code>FALSE</code>) - If set, does not display feedback messages. Passed to <code>can_unbuckle()</code> and <code>user_unbuckle_mob()</code>.</li>
</ul>
<p>Returns boolean. Whether or not the buckling was successful.</p><h3 id="proc/SetupChameleonExtension"><aside class="declaration">proc </aside>SetupChameleonExtension<aside>(chamelon_options, exclude_outfits, throw_runtime) 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/a29137d0f5d5281e7cbfdceb41f4eb257fc0819e/code/datums/extensions/chameleon.dm#L373">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;extensions&#x2F;chameleon.dm 373"/></a></aside>
        </h3>
        <p>Call this proc to automatically setup the best suited chameleon extension for the instance, if one exists.</p>
<p>Exceptions:</p>
<ul>
<li>If the instance only matches the base /datum/extension/chameleon type it is not set for performance reasons. For these <code>set_extension()</code> has to be called explicitly.</li>
<li>If the instance already has the /datum/extension/chameleon extension it is not overriden, but the proc still returns <code>TRUE</code>.</li>
</ul>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>chamelon_options</code> - Based on the relevant CHAMELEON_FLEXIBLE_OPTION_* argument</li>
<li><code>exclude_outfits</code> - Whether to exclude the chameleon outfit verbs.</li>
<li><code>throw_runtime</code> - Whether to throw a runtime exception if no matching extension was found. This includes cases when /datum/extension/chameleon would've been a match had it not been for its exclusion.</li>
</ul>
<p>Returns boolean - Whether or not a matching extension was found</p><h3 id="proc/buckle_mob"><aside class="declaration">proc </aside>buckle_mob<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/M) 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/a29137d0f5d5281e7cbfdceb41f4eb257fc0819e/code/game/objects/buckling.dm#L223">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;buckling.dm 223"/></a></aside>
        </h3>
        <p>Handles buckling the given mob. Assumes most conditions are met - This only checks if <code>loc</code> is the same and if the mob's <code>buckled</code> is null to avoid broken states.</p>
<p>Returns boolen - Whether or not the mob was buckled.</p><h3 id="proc/can_anchor"><aside class="declaration">proc </aside>can_anchor<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/tool, /<a href="mob.html">mob</a>/user, silent) 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/a29137d0f5d5281e7cbfdceb41f4eb257fc0819e/code/game/objects/objs.dm#L208">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;objs.dm 208"/></a></aside>
        </h3>
        <p>Whether or not the object can be anchored in its current state/position. Assumes the anchorable flag has already been checked.</p>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>tool</code> - Tool being used to un/anchor the object.</li>
<li><code>user</code> - User performing the interaction.</li>
<li><code>silent</code> (Boolean, default <code>FALSE</code>) - If set, does not send user feedback messages on failure.</li>
</ul>
<p>Returns boolean.</p><h3 id="proc/can_buckle"><aside class="declaration">proc </aside>can_buckle<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/target, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, silent) 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/a29137d0f5d5281e7cbfdceb41f4eb257fc0819e/code/game/objects/buckling.dm#L66">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;buckling.dm 66"/></a></aside>
        </h3>
        <p>Checks if a mob can be buckled to the object.</p>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>target</code> - Mob to be buckled.</li>
<li><code>user</code> - Optional. Mob attempting to perform the buckling. Target of failure feedback messages. If not provided, checks requiring <code>user</code> are not performed.</li>
<li><code>silent</code> (Boolean, default <code>FALSE</code>) - If set, does not send failure feedback messages to <code>user</code>.</li>
</ul>
<p>Returns boolean.</p><h3 id="proc/can_unbuckle"><aside class="declaration">proc </aside>can_unbuckle<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, silent) 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/a29137d0f5d5281e7cbfdceb41f4eb257fc0819e/code/game/objects/buckling.dm#L141">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;buckling.dm 141"/></a></aside>
        </h3>
        <p>Checks if a mob can unbuckle the object.</p>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>user</code> - Optional. Mob attempting to perform the unbuckling. Target of failure feedback messages. If not provided, checks on <code>user</code> are not performed.</li>
<li><code>silent</code> (Boolean, default <code>FALSE</code>) - If set, does not send failure feedback messages to <code>user</code>.</li>
</ul>
<p>Returns boolean.</p><h3 id="proc/clear_buckle"><aside class="declaration">proc </aside>clear_buckle<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/_buckled_mob) 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/a29137d0f5d5281e7cbfdceb41f4eb257fc0819e/code/game/objects/buckling.dm#L275">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;buckling.dm 275"/></a></aside>
        </h3>
        <p>Clears any buckling references that exist between object and buckled mob, without clearing any unrelated references. Used by the destroyed event handler.</p>
<p>Includes some redundancy to ensure all references are clear.</p><h3 id="proc/is_safe_to_step"><aside class="declaration">proc </aside>is_safe_to_step<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/L) 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/a29137d0f5d5281e7cbfdceb41f4eb257fc0819e/code/game/objects/objs.dm#L320">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;objs.dm 320"/></a></aside>
        </h3>
        <p>Test for if stepping on a tile containing this obj is safe to do, used for things like landmines and cliffs.</p><h3 id="proc/post_anchor_change"><aside class="declaration">proc </aside>post_anchor_change<aside>() 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/a29137d0f5d5281e7cbfdceb41f4eb257fc0819e/code/game/objects/objs.dm#L239">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;objs.dm 239"/></a></aside>
        </h3>
        <p>Called when the object's anchor state is changed via <code>wrench_floor_bolts()</code>.</p><h3 id="proc/unbuckle_mob"><aside class="declaration">proc </aside>unbuckle_mob<aside>() 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/a29137d0f5d5281e7cbfdceb41f4eb257fc0819e/code/game/objects/buckling.dm#L252">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;buckling.dm 252"/></a></aside>
        </h3>
        <p>Handles unbuckling any buckled mobs. Assumes all conditions are met.</p>
<p>Returns a reference to the previously buckled mob, or null.</p><h3 id="proc/user_buckle_mob"><aside class="declaration">proc </aside>user_buckle_mob<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/M, /<a href="mob.html">mob</a>/user, silent) 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/a29137d0f5d5281e7cbfdceb41f4eb257fc0819e/code/game/objects/buckling.dm#L311">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;buckling.dm 311"/></a></aside>
        </h3>
        <p>Handles buckling a mob by another mob (Or the same mob). Includes <code>can_buckle()</code> checks.</p>
<p>Generally, you should be calling <code>AttemptBuckle()</code> instead of this.</p>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>target</code> - Mob to be buckled.</li>
<li><code>user</code> - Mob attempting to perform the buckling. Target of failure feedback messages.</li>
<li><code>silent</code> (Boolean, default <code>FALSE</code>) - If set, does not display feedback messages. Passed to <code>can_buckle()</code>.</li>
</ul>
<p>Returns boolean. Whether or not the buckling was successful.</p><h3 id="proc/user_unbuckle_mob"><aside class="declaration">proc </aside>user_unbuckle_mob<aside>(/<a href="mob.html">mob</a>/user, silent) 
        
    
            <a href="https://github.com/Baystation12/Baystation12/blob/a29137d0f5d5281e7cbfdceb41f4eb257fc0819e/code/game/objects/buckling.dm#L351">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;buckling.dm 351"/></a></aside>
        </h3>
        <p>Handles unbuckling a mob by another mob (Or the same mob). Includes <code>can_unbuckle()</code> checks.</p>
<p>Generally, you should be calling <code>AttemptUnbuckle()</code> instead of this.</p>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>user</code> - Mob attempting to perform the unbuckling. Target of failure feedback messages.</li>
<li><code>silent</code> (Boolean, default <code>FALSE</code>) - If set, does not display feedback messages. Passed to <code>can_unbuckle()</code>.</li>
</ul>
<p>Returns instance of the unbuckled mob or null on failure.</p></main>
<footer>
    baystation12.dme
    <a href="https://github.com/Baystation12/Baystation12/tree/a29137d0f5d5281e7cbfdceb41f4eb257fc0819e">a29137d</a>
        (dev) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.7.3</a></footer>
</body>
</html>
