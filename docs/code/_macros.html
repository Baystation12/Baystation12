<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>code/_macros.dm - Space Station 13</title></head><body><header><a href="index.html">Space Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="code/_macros.html#define">Define Details</a></header><main><h1>code/_macros.dm <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm0"><img src="git.png" width="16" height="16" title="code/_macros.dm0"></a></h1><table class="summary" cellspacing="0"><tr><th><a href="code/_macros.html#define/get_turf">get_turf</a></th><td>Get the turf that <code>A</code> resides in, regardless of any containers.</td></tr><tr><th><a href="code/_macros.html#define/get_area">get_area</a></th><td>Get the ultimate area of <code>A</code>, similarly to <a href="code/_macros.html#define/get_turf" title="get_turf">get_turf</a>.</td></tr><tr><th><a href="code/_macros.html#define/to_target">to_target</a></th><td>General I/O helpers</td></tr><tr><th><a href="code/_macros.html#define/legacy_chat">legacy_chat</a></th><td>Common use</td></tr><tr><th><a href="code/_macros.html#define/EMPTY_BITFIELD">EMPTY_BITFIELD</a></th><td>Semantic define for a 0 int intended for use as a bitfield</td></tr><tr><th><a href="code/_macros.html#define/SHIFTR">SHIFTR</a></th><td>Right-shift of INT by BITS</td></tr><tr><th><a href="code/_macros.html#define/SHIFTL">SHIFTL</a></th><td>Left-shift of INT by BITS</td></tr><tr><th><a href="code/_macros.html#define/FLAG">FLAG</a></th><td>Convenience define for nth-bit flags, 0-indexed</td></tr><tr><th><a href="code/_macros.html#define/GET_BIT">GET_BIT</a></th><td>Test bit at index BIT is set in FIELD</td></tr><tr><th><a href="code/_macros.html#define/HAS_BIT">HAS_BIT</a></th><td>Test bit at index BIT is set in FIELD; semantic alias of GET_BIT</td></tr><tr><th><a href="code/_macros.html#define/SET_BIT">SET_BIT</a></th><td>Set bit at index BIT in FIELD</td></tr><tr><th><a href="code/_macros.html#define/CLEAR_BIT">CLEAR_BIT</a></th><td>Unset bit at index BIT in FIELD</td></tr><tr><th><a href="code/_macros.html#define/FLIP_BIT">FLIP_BIT</a></th><td>Flip bit at index BIT in FIELD</td></tr><tr><th><a href="code/_macros.html#define/GET_FLAGS">GET_FLAGS</a></th><td>Test any bits of MASK are set in FIELD</td></tr><tr><th><a href="code/_macros.html#define/HAS_FLAGS">HAS_FLAGS</a></th><td>Test all bits of MASK are set in FIELD</td></tr><tr><th><a href="code/_macros.html#define/SET_FLAGS">SET_FLAGS</a></th><td>Set bits of MASK in FIELD</td></tr><tr><th><a href="code/_macros.html#define/CLEAR_FLAGS">CLEAR_FLAGS</a></th><td>Unset bits of MASK in FIELD</td></tr><tr><th><a href="code/_macros.html#define/FLIP_FLAGS">FLIP_FLAGS</a></th><td>Flip bits of MASK in FIELD</td></tr><tr><th>/proc/<a href="global.html#proc/randhex">randhex</a></th><td>Generate random hex up to char length nibbles</td></tr><tr><th><a href="code/_macros.html#define/LIST_INC">LIST_INC</a></th><td>Increase the size of L by 1 at the end. Is the old last entry index.</td></tr><tr><th><a href="code/_macros.html#define/LIST_PRE_INC">LIST_PRE_INC</a></th><td>Increase the size of L by 1 at the end. Is the new last entry index.</td></tr><tr><th><a href="code/_macros.html#define/LIST_DEC">LIST_DEC</a></th><td>Decrease the size of L by 1 from the end. Is the old last entry index.</td></tr><tr><th><a href="code/_macros.html#define/LIST_PRE_DEC">LIST_PRE_DEC</a></th><td>Decrease the size of L by 1 from the end. Is the new last entry index.</td></tr><tr><th><a href="code/_macros.html#define/LIST_RESIZE">LIST_RESIZE</a></th><td>Explicitly set the length of L to NEWLEN, adding nulls or dropping entries. Is the same value as NEWLEN.</td></tr></table><h2 id="define">Define Details</h2><h3 id="define/CLEAR_BIT"><aside class="declaration">#define </aside>CLEAR_BIT<aside>(FIELD, BIT)</aside> <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L258"><img src="git.png" width="16" height="16" title="code/_macros.dm 258"></a></h3><p>Unset bit at index BIT in FIELD</p><h3 id="define/CLEAR_FLAGS"><aside class="declaration">#define </aside>CLEAR_FLAGS<aside>(FIELD, MASK)</aside> <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L278"><img src="git.png" width="16" height="16" title="code/_macros.dm 278"></a></h3><p>Unset bits of MASK in FIELD</p><h3 id="define/EMPTY_BITFIELD"><aside class="declaration">#define </aside>EMPTY_BITFIELD <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L230"><img src="git.png" width="16" height="16" title="code/_macros.dm 230"></a></h3><p>Semantic define for a 0 int intended for use as a bitfield</p><h3 id="define/FLAG"><aside class="declaration">#define </aside>FLAG<aside>(BIT)</aside> <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L242"><img src="git.png" width="16" height="16" title="code/_macros.dm 242"></a></h3><p>Convenience define for nth-bit flags, 0-indexed</p><h3 id="define/FLIP_BIT"><aside class="declaration">#define </aside>FLIP_BIT<aside>(FIELD, BIT)</aside> <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L262"><img src="git.png" width="16" height="16" title="code/_macros.dm 262"></a></h3><p>Flip bit at index BIT in FIELD</p><h3 id="define/FLIP_FLAGS"><aside class="declaration">#define </aside>FLIP_FLAGS<aside>(FIELD, MASK)</aside> <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L282"><img src="git.png" width="16" height="16" title="code/_macros.dm 282"></a></h3><p>Flip bits of MASK in FIELD</p><h3 id="define/GET_BIT"><aside class="declaration">#define </aside>GET_BIT<aside>(FIELD, BIT)</aside> <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L246"><img src="git.png" width="16" height="16" title="code/_macros.dm 246"></a></h3><p>Test bit at index BIT is set in FIELD</p><h3 id="define/GET_FLAGS"><aside class="declaration">#define </aside>GET_FLAGS<aside>(FIELD, MASK)</aside> <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L266"><img src="git.png" width="16" height="16" title="code/_macros.dm 266"></a></h3><p>Test any bits of MASK are set in FIELD</p><h3 id="define/HAS_BIT"><aside class="declaration">#define </aside>HAS_BIT<aside>(FIELD, BIT)</aside> <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L250"><img src="git.png" width="16" height="16" title="code/_macros.dm 250"></a></h3><p>Test bit at index BIT is set in FIELD; semantic alias of GET_BIT</p><h3 id="define/HAS_FLAGS"><aside class="declaration">#define </aside>HAS_FLAGS<aside>(FIELD, MASK)</aside> <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L270"><img src="git.png" width="16" height="16" title="code/_macros.dm 270"></a></h3><p>Test all bits of MASK are set in FIELD</p><h3 id="define/LIST_DEC"><aside class="declaration">#define </aside>LIST_DEC<aside>(L)</aside> <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L304"><img src="git.png" width="16" height="16" title="code/_macros.dm 304"></a></h3><p>Decrease the size of L by 1 from the end. Is the old last entry index.</p><h3 id="define/LIST_INC"><aside class="declaration">#define </aside>LIST_INC<aside>(L)</aside> <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L298"><img src="git.png" width="16" height="16" title="code/_macros.dm 298"></a></h3><p>Increase the size of L by 1 at the end. Is the old last entry index.</p><h3 id="define/LIST_PRE_DEC"><aside class="declaration">#define </aside>LIST_PRE_DEC<aside>(L)</aside> <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L307"><img src="git.png" width="16" height="16" title="code/_macros.dm 307"></a></h3><p>Decrease the size of L by 1 from the end. Is the new last entry index.</p><h3 id="define/LIST_PRE_INC"><aside class="declaration">#define </aside>LIST_PRE_INC<aside>(L)</aside> <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L301"><img src="git.png" width="16" height="16" title="code/_macros.dm 301"></a></h3><p>Increase the size of L by 1 at the end. Is the new last entry index.</p><h3 id="define/LIST_RESIZE"><aside class="declaration">#define </aside>LIST_RESIZE<aside>(L, NEWLEN)</aside> <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L310"><img src="git.png" width="16" height="16" title="code/_macros.dm 310"></a></h3><p>Explicitly set the length of L to NEWLEN, adding nulls or dropping entries. Is the same value as NEWLEN.</p><h3 id="define/SET_BIT"><aside class="declaration">#define </aside>SET_BIT<aside>(FIELD, BIT)</aside> <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L254"><img src="git.png" width="16" height="16" title="code/_macros.dm 254"></a></h3><p>Set bit at index BIT in FIELD</p><h3 id="define/SET_FLAGS"><aside class="declaration">#define </aside>SET_FLAGS<aside>(FIELD, MASK)</aside> <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L274"><img src="git.png" width="16" height="16" title="code/_macros.dm 274"></a></h3><p>Set bits of MASK in FIELD</p><h3 id="define/SHIFTL"><aside class="declaration">#define </aside>SHIFTL<aside>(INT, BITS)</aside> <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L238"><img src="git.png" width="16" height="16" title="code/_macros.dm 238"></a></h3><p>Left-shift of INT by BITS</p><h3 id="define/SHIFTR"><aside class="declaration">#define </aside>SHIFTR<aside>(INT, BITS)</aside> <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L234"><img src="git.png" width="16" height="16" title="code/_macros.dm 234"></a></h3><p>Right-shift of INT by BITS</p><h3 id="define/get_area"><aside class="declaration">#define </aside>get_area<aside>(A)</aside> <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L23"><img src="git.png" width="16" height="16" title="code/_macros.dm 23"></a></h3><p>Get the ultimate area of <code>A</code>, similarly to <a href="code/_macros.html#define/get_turf" title="get_turf">get_turf</a>.</p>
<p>Use instead of <code>A.loc.loc</code>.</p><h3 id="define/get_turf"><aside class="declaration">#define </aside>get_turf<aside>(A)</aside> <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L16"><img src="git.png" width="16" height="16" title="code/_macros.dm 16"></a></h3><p>Get the turf that <code>A</code> resides in, regardless of any containers.</p>
<p>Use in favor of <code>A.loc</code> or <code>src.loc</code> so that things work correctly when
stored inside an inventory, locker, or other container.</p><h3 id="define/legacy_chat"><aside class="declaration">#define </aside>legacy_chat<aside>(target, message)</aside> <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L124"><img src="git.png" width="16" height="16" title="code/_macros.dm 124"></a></h3><p>Common use</p><h3 id="define/to_target"><aside class="declaration">#define </aside>to_target<aside>(target, payload)</aside> <a href="https://github.com/Baystation12/Baystation12/blob/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93/code/_macros.dm#L120"><img src="git.png" width="16" height="16" title="code/_macros.dm 120"></a></h3><p>General I/O helpers</p></main><footer>baystation12.dme <a href="https://github.com/Baystation12/Baystation12/tree/30cfef27fa57c377df94c0eb9caf46f4fa7f5a93">30cfef2</a> (dev) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>